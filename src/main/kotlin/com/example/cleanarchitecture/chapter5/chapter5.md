# Chapter5. 아키텍처

- 시스템을 쉽게 개발, 배포, 운영, 유지보수하기 위해서는 가능한 많은 선택지를, 가능한 오래 남겨두는 전략을 따라야 한다
- 아키텍처의 목적은 시스템 생명주기를 지원하는 것
    - 좋은 아키텍처는 시스템을 쉽게 이해하고, 쉽게 개발하며, 쉽게 유지보수하고, 쉽게 배포하게 해준다
- 궁극적인 목표는 시스템의 수명과 관련된 비용은 최소화, 프로그래머의 생산성을 최대화
- 아키텍처랑 시스템의 동작 여부는 사실 관계 없음

### 개발

### 배포

### 운영

- 운영은 개발과 배포, 유지보수보다 비용 관점에서 덜 중요?
- 하드웨어를 늘리는 쪽으로 해결 가능하고, 개발 비용보단 하드웨어 비용이 싸다

### 유지보수

유지보수는 모든 측면에서 가장 비용이 드는 행위

유지보수의 가장 큰 비용은 탐사이다, 기능 추가를 위해 소프트웨어 어디를 고쳐야 할지, 어떤 전략을 쓰는 것이 최적일지 드는 비용

아키텍처에 주의를 기울이면 이런 비용을 최소화할 수 있음

### 선택 사항 열어두기

구체적인 내용의 결정은 최대한 미룰 것

모든 소프트웨어는 정책과 세부사항으로 분해할 수 있다

- 정책
    - 모든 업무 규칙과 업무 절차
- 세부사항
    - DB, 웹 시스템, 프레임워크, 통신 프로토콜
    

세부사항에 대한 결정을 최대한 미루고 세부사항에 관계 없는 고수준의 정책을 만들어라,

결정을 최대한 미룰 수록 더 많은 정보를 가지고 세부사항 결정 가능

### 정리

좋은 아키텍트는 세부사항을 정책으로부터 신중히 가려내고, 정책이 세부사항과 결합되지 않도록 엄격하게 분리

정책은 세부사항에 대해 알 필요 없고, 어떤 경우에도 의존하지 않도록 할 것

# 독립성
## 좋은 아키텍처

좋은 아키텍처는 다음을 지원해야 함

- 시스템의 유스케이스
- 시스템의 운영
- 시스템의 개발
- 시스템의 배포

### 유스케이스

시스템 아키텍처는 시스템의 의도를 지원해야 함

아키텍처의 최우선 관심사는 유스케이스여야 함

아키텍처에서 유스케이스를 일급 요소로 생각하고 알아보기 쉬운 곳에 배치하고 적절한 이름을 지을 것

### 운영

아키텍처는 요구 조건에 맞는 작업을 지원할 수 있는 형태로 만들어져야 한다

아키텍처간 컴포넌트를 적절히 격리하고, 컴포넌트간 통신 형태를 특정 형태로 제한하지 않을 것

이를 통해 병렬 스레드 사용, 단일 프로세서 사용 등 기술 스펙트럼에 구애되지 않고 상황에 맞게 전환 가능

### 배포

컴포넌트를 적절히 분할 격리하여 배포를 용이하게 할 것

### 선택사항 열어놓기

아키텍처 원칙을 정해 놓고

외에는 선택 사항을 열어 둠으로써 향후 시스템 변경이 필요할 때 쉽게 변경 가능하도록 할 것

## 유스케이스 결합 분리

시스템을 서로 결합되지 않은 수평적인 계층으로 분리할 것

계층으로는 UI, 비즈니스 로직, 데이터베이스 등이 있음

유스케이스별로 UI, 비즈니그 로직, 데이터베이스를 묶어서 분리

예를 들어 주문 추가와 삭제에 필요한 각각의 UI, 로직, DB를 묶는다

### 중복

진짜 중복과 가짜 중복을 구분하라

각자의 경로로 발전하여 달라질 수 있다면 가짜 중복
